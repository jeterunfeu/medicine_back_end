<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="net.softsociety.mra.dao.PersonalHistoryDAO">

	<select id="selectAll" resultType="PersonalHistory">
		select * from personal_history order by historynum desc
	</select>
	
	<select id="selectOne" parameterType="int" resultType="PersonalHistory">
		select * from personal_history where historynum = #{historynum}
	</select>
	
	<!--  personal_history에 인서트할 정보가 없음 -->
	<insert id="insertPersonalHistory" parameterType="PersonalHistory">
		insert into personal_history
			historynum
			, membernum
			, mednum
		values (
			personal_history_seq.nextval
			, #{membernum}
			, #{mednum}
		)
	</insert>
	
	<!-- personal_history 테이블에 업데이트할 정보가 없음, 프라이머리키와 참조키 입력시간  -->
	<update id="updatePersonalHistory" parameterType="int">
		update personal_history set
			membernum = #{membernum}
			, mednum = #{mednum}
		where
			historynum = #{historynum} 
	</update>
	
	<delete id="deletePersonalHistory" parameterType="int">
		delete 
			from personal_history
		where
			historynum = #{historynum}
	</delete>

</mapper>